<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infus√µes S√°bias - Guia de Ch√°s</title>
    <!-- Carrega Tailwind CSS para estiliza√ß√£o responsiva -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0fdf4; /* Cor de fundo suave (verde muito claro) */
        }
        /* Estilos para o bot√£o de Favoritos */
        .favorite-btn {
            transition: transform 0.1s ease-in-out, color 0.1s ease-in-out;
        }
        .favorite-btn:active {
            transform: scale(0.95);
        }
        .is-favorite {
            color: #f59e0b; /* Amarelo/√Çmbar para favorito */
        }
    </style>
</head>
<body class="p-4 sm:p-6 md:p-8">
    <div id="app" class="max-w-2xl mx-auto bg-white shadow-2xl rounded-2xl overflow-hidden">
        <!-- Cabe√ßalho -->
        <header class="bg-teal-700 p-6 text-white text-center rounded-t-2xl">
            <h1 class="text-3xl font-extrabold mb-1">üåø Infus√µes S√°bias</h1>
            <p class="text-teal-200 text-lg">O seu guia para 30 ch√°s e os seus benef√≠cios.</p>
        </header>

        <!-- Filtros e Controlo de Favoritos -->
        <div class="p-4 sm:p-6 border-b border-gray-100 flex flex-col sm:flex-row justify-between items-center space-y-3 sm:space-y-0">
            <input type="text" id="search-input" placeholder="Pesquisar por nome ou benef√≠cio..." class="w-full sm:w-2/3 p-3 border border-gray-300 rounded-lg focus:ring-teal-500 focus:border-teal-500 transition duration-150" oninput="renderInfusions()">
            
            <button id="filter-favorites-btn" class="w-full sm:w-1/3 sm:ml-4 p-3 font-semibold rounded-lg bg-yellow-100 text-yellow-800 border border-yellow-300 hover:bg-yellow-200 transition duration-150" onclick="toggleFavoriteFilter()">
                Mostrar Favoritos (0)
            </button>
        </div>

        <!-- Lista de Infus√µes -->
        <main class="p-4 sm:p-6">
            <div id="infusion-list" class="space-y-4">
                <!-- As infus√µes ser√£o adicionadas aqui pelo JavaScript -->
            </div>
            <p id="no-results-message" class="text-center text-gray-500 mt-8 hidden">Nenhum ch√° encontrado. Tente ajustar o filtro ou a pesquisa.</p>
        </main>
        
        <!-- Mensagem de Rodap√© -->
        <footer class="p-4 text-center text-sm text-gray-500 border-t mt-6 bg-gray-50">
            Prot√≥tipo MVP V1.0 - [30 Ch√°s]
        </footer>
    </div>

    <script>
        // Vari√°veis globais
        const storageKey = 'infusoes_favoritas';
        let favorites = JSON.parse(localStorage.getItem(storageKey)) || {};
        let isFilteringFavorites = false;
        
        // Dados de 30 infus√µes e ch√°s
        const allInfusions = [
            { id: 1, name: "Camomila", benefit: "Calmante natural. Ideal para ansiedade e sono.", category: "Relaxamento", icon: "üåº" },
            { id: 2, name: "Hortel√£-Pimenta", benefit: "Excelente para digest√£o e al√≠vio de n√°useas.", category: "Digest√£o", icon: "üå±" },
            { id: 3, name: "Gengibre e Lim√£o", benefit: "Refor√ßa o sistema imunit√°rio e anti-inflamat√≥rio.", category: "Imunidade", icon: "üçã" },
            { id: 4, name: "Ch√° Verde", benefit: "Antioxidante poderoso, aumenta o metabolismo e o foco.", category: "Energia", icon: "üçµ" },
            { id: 5, name: "Rooibos", benefit: "Sem cafe√≠na. √ìtimo para a pele e sa√∫de √≥ssea.", category: "Geral", icon: "üî¥" },
            { id: 6, name: "Lavanda", benefit: "Profundamente relaxante. Reduz o stress e melhora o humor.", category: "Relaxamento", icon: "üíú" },
            { id: 7, name: "Erva-Pr√≠ncipe", benefit: "Ajuda na digest√£o, desintoxica e alivia dores de cabe√ßa.", category: "Digest√£o", icon: "üåæ" },
            { id: 8, name: "Hibisco", benefit: "Rico em Vitamina C, ajuda a controlar a tens√£o arterial.", category: "Cora√ß√£o", icon: "üå∫" },
            { id: 9, name: "Ch√° Branco", benefit: "O ch√° menos processado, alto teor de antioxidantes.", category: "Geral", icon: "‚ö™" },
            { id: 10, name: "Alecrim", benefit: "Melhora a mem√≥ria, o foco e a circula√ß√£o.", category: "Foco", icon: "üå≤" },
            { id: 11, name: "Boldo", benefit: "Protege o f√≠gado e estimula a produ√ß√£o de b√≠lis.", category: "Digest√£o", icon: "üçÉ" },
            { id: 12, name: "Alfazema", benefit: "Alivia a tens√£o muscular e promove um sono reparador.", category: "Relaxamento", icon: "‚ú®" },
            { id: 13, name: "Valeriana", benefit: "Sedativo natural potente, para ins√≥nias cr√≥nicas.", category: "Sono", icon: "üí§" },
            { id: 14, name: "Equin√°cea", benefit: "Combate constipa√ß√µes e fortalece defesas.", category: "Imunidade", icon: "üõ°Ô∏è" },
            { id: 15, name: "Carqueja", benefit: "Ajuda na desintoxica√ß√£o e fun√ß√£o renal.", category: "Desintoxica√ß√£o", icon: "üíß" },
            { id: 16, name: "S√°lvia", benefit: "Excelente para a sa√∫de da mulher (menopausa e ciclos).", category: "Mulher", icon: "‚ôÄÔ∏è" },
            { id: 17, name: "Folha de Oliveira", benefit: "Poderoso antibi√≥tico natural e regula a glicose.", category: "Sa√∫de", icon: "üü¢" },
            { id: 18, name: "Cardamomo", benefit: "Aquece o corpo e auxilia na quebra de gorduras.", category: "Metabolismo", icon: "üå∞" },
            { id: 19, name: "Canela", benefit: "Regula o a√ß√∫car no sangue e √© um √≥timo digestivo.", category: "Sa√∫de", icon: "ü•¢" },
            { id: 20, name: "Dente-de-Le√£o", benefit: "Diur√©tico e depurativo. Limpeza do f√≠gado.", category: "Desintoxica√ß√£o", icon: "üü°" },
            { id: 21, name: "M√£e-e-Pai (Amora)", benefit: "Rico em Vitamina C e antioxidantes, bom para o cora√ß√£o.", category: "Geral", icon: "üçá" },
            { id: 22, name: "T√≠lia", benefit: "Reduz o nervosismo e espasmos. Suave e calmante.", category: "Relaxamento", icon: "üå≥" },
            { id: 23, name: "Urtiga", benefit: "Rica em minerais, fortalece o cabelo e unhas.", category: "Beleza", icon: "üíÖ" },
            { id: 24, name: "Funcho", benefit: "Alivia gases e incha√ßo, √≥timo para c√≥licas.", category: "Digest√£o", icon: "ü•ñ" },
            { id: 25, name: "Alca√ßuz", benefit: "Suaviza a garganta e tem propriedades antivirais.", category: "Imunidade", icon: "‚ö´" },
            { id: 26, name: "Guaran√°", benefit: "Estimulante natural, melhora a performance f√≠sica e mental.", category: "Energia", icon: "‚ö°" },
            { id: 27, name: "Poejo", benefit: "Trata problemas respirat√≥rios e tosse.", category: "Respirat√≥rio", icon: "üå¨Ô∏è" },
            { id: 28, name: "Anis Estrelado", benefit: "Antif√∫ngico e ajuda na digest√£o. Sabor √∫nico.", category: "Digest√£o", icon: "‚≠ê" },
            { id: 29, name: "Passiflora", benefit: "Combate a ins√≥nia e a hiperatividade.", category: "Sono", icon: "üåô" },
            { id: 30, name: "Ch√° Preto", benefit: "Alto teor de cafe√≠na, ideal para come√ßar o dia.", category: "Energia", icon: "‚òï" },
        ];

        // Fun√ß√£o para guardar o estado dos favoritos
        function saveFavorites() {
            localStorage.setItem(storageKey, JSON.stringify(favorites));
            updateFavoriteButton();
        }

        // Fun√ß√£o para alternar o estado de um favorito
        function toggleFavorite(id) {
            const idStr = String(id);
            if (favorites[idStr]) {
                delete favorites[idStr];
            } else {
                favorites[idStr] = true;
            }
            saveFavorites();
            renderInfusions();
        }

        // Fun√ß√£o para atualizar o texto do bot√£o de filtro de favoritos
        function updateFavoriteButton() {
            const count = Object.keys(favorites).length;
            const btn = document.getElementById('filter-favorites-btn');
            
            btn.textContent = `Mostrar Favoritos (${count})`;

            if (isFilteringFavorites) {
                btn.classList.remove('bg-yellow-100', 'text-yellow-800');
                btn.classList.add('bg-yellow-500', 'text-white', 'hover:bg-yellow-600');
            } else {
                btn.classList.remove('bg-yellow-500', 'text-white', 'hover:bg-yellow-600');
                btn.classList.add('bg-yellow-100', 'text-yellow-800', 'hover:bg-yellow-200');
            }
        }

        // Fun√ß√£o para alternar o modo de filtro de favoritos
        function toggleFavoriteFilter() {
            isFilteringFavorites = !isFilteringFavorites;
            renderInfusions();
        }

        // Fun√ß√£o principal para renderizar e filtrar a lista
        function renderInfusions() {
            const listContainer = document.getElementById('infusion-list');
            const searchInput = document.getElementById('search-input').value.toLowerCase();
            const noResultsMessage = document.getElementById('no-results-message');
            listContainer.innerHTML = ''; // Limpa a lista existente

            // 1. Filtrar com base na pesquisa e nos favoritos
            let filteredInfusions = allInfusions.filter(infusion => {
                const nameMatch = infusion.name.toLowerCase().includes(searchInput);
                const benefitMatch = infusion.benefit.toLowerCase().includes(searchInput);
                const isFavorite = favorites[String(infusion.id)];

                const searchPasses = nameMatch || benefitMatch;
                
                if (isFilteringFavorites) {
                    return searchPasses && isFavorite;
                } else {
                    return searchPasses;
                }
            });

            if (filteredInfusions.length === 0) {
                noResultsMessage.classList.remove('hidden');
            } else {
                noResultsMessage.classList.add('hidden');
            }

            // 2. Renderizar os cart√µes
            filteredInfusions.forEach(infusion => {
                const isFavorite = favorites[String(infusion.id)];
                
                // Cria o cart√£o para cada infus√£o
                const card = document.createElement('div');
                card.className = 'flex items-center justify-between p-4 bg-gray-50 rounded-xl border border-gray-200 hover:border-teal-500 transition duration-300 ease-in-out';
                
                // Conte√∫do (√çcone, Nome e Benef√≠cio)
                const content = document.createElement('div');
                content.className = 'flex items-start';
                content.innerHTML = `
                    <span class="text-3xl mr-4 flex-shrink-0">${infusion.icon}</span>
                    <div>
                        <h3 class="text-lg font-bold text-teal-700">${infusion.name}</h3>
                        <p class="text-sm text-gray-600">${infusion.benefit}</p>
                        <span class="inline-block mt-1 px-2 py-0.5 text-xs font-medium bg-teal-100 text-teal-800 rounded-full">${infusion.category}</span>
                    </div>
                `;

                // Bot√£o de Favorito
                const favoriteButton = document.createElement('button');
                favoriteButton.className = `favorite-btn text-2xl p-2 rounded-full transition-colors ${isFavorite ? 'is-favorite' : 'text-gray-300 hover:text-yellow-500'}`;
                favoriteButton.innerHTML = isFavorite ? '‚òÖ' : '‚òÜ'; // Estrela preenchida ou vazia
                favoriteButton.setAttribute('aria-label', isFavorite ? 'Remover dos favoritos' : 'Adicionar aos favoritos');
                favoriteButton.onclick = () => toggleFavorite(infusion.id);

                card.appendChild(content);
                card.appendChild(favoriteButton);
                listContainer.appendChild(card);
            });

            // 3. Atualizar o bot√£o de filtro
            updateFavoriteButton();
        }

        // Inicia a aplica√ß√£o e carrega os dados
        window.onload = () => {
            // Verifica se o browser suporta localStorage (necess√°rio para os favoritos)
            if (typeof(Storage) === "undefined") {
                console.error("O navegador n√£o suporta localStorage. Favoritos n√£o funcionar√£o.");
            }
            renderInfusions();
        };
    </script>
</body>
</html>

